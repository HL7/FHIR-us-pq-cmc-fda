@startuml
' -------- Profiles --------
class BracketingStudyEvidence
class CycledTestingPlanDefinition
class MatrixedStudyEvidence
class StabilityGroups
class StabilityStudy
class StabilityStudyIntervalReport
class StabilityStudyProtocol
class StabilitySubStudy

' -------- Extensions --------
class PQCMCEvidenceProductReference <<Extension>>
class PQCMCStabilityGroupsMedicationMember <<Extension>>
class PQCMCStabilitySubStudyFocusAndObjective <<Extension>>
class PullIntervalExtension <<Extension>>

' -------- ValueSets --------
class PqcmcClosureTypeTerminology          <<ValueSet>>
class PqcmcContainerOrientationTerminology <<ValueSet>>
class PqcmcContainerTypeTerminology        <<ValueSet>>
class PqcmcIntervalDescriptionCodeTerminology <<ValueSet>>
class PqcmcStabilityStudyReasonTerminology <<ValueSet>>
class PqcmcStorageConditionCategoryTerminology <<ValueSet>>
class PqcmcStorageConditionsTerminology    <<ValueSet>>
class PqcmcStudyTypeTerminology            <<ValueSet>>
class PqcmcTestCategoryChildTerminology    <<ValueSet>>
class PqcmcTestCategoryParentTerminology   <<ValueSet>>
class "pqcmc-study-type-terminology"       <<ValueSet>>

' -------- External resources referenced --------
class CodedOrganization        <<external>>
class DrugProductBatch         <<external>>
class DrugProductHandle        <<external>>
class DrugSubstanceBatch       <<external>>
class Medication               <<external>>
class ResultObservation        <<external>>
class Substance                <<external>>
class SubstanceDefinitionHandle <<external>>
class focus                    <<external>>
class observed                 <<external>>
class partOf                   <<external>>
class performer                <<external>>
class protocol                 <<external>>
class result                   <<external>>
class subject                  <<external>>
class valueReference           <<external>>

' -------- Relationships --------
' – Extension → ValueSet
PullIntervalExtension --> PqcmcIntervalDescriptionCodeTerminology : uses

' – StabilityStudy and related
StabilityStudy --> StabilityStudyProtocol
StabilityStudy --> PqcmcStabilityStudyReasonTerminology : uses
StabilityStudy --> focus
StabilityStudy --> DrugProductHandle
StabilityStudy --> SubstanceDefinitionHandle

' – PQCMCStabilitySubStudyFocusAndObjective
PQCMCStabilitySubStudyFocusAndObjective --> valueReference
PQCMCStabilitySubStudyFocusAndObjective --> CycledTestingPlanDefinition
PQCMCStabilitySubStudyFocusAndObjective --> StabilityGroups
PQCMCStabilitySubStudyFocusAndObjective --> BracketingStudyEvidence

' – StabilitySubStudy
StabilitySubStudy --> protocol
StabilitySubStudy --> StabilityStudyProtocol
StabilitySubStudy --> partOf
StabilitySubStudy --> StabilityStudy
StabilitySubStudy --> PqcmcStudyTypeTerminology : uses
StabilitySubStudy --> PqcmcStorageConditionsTerminology : uses
StabilitySubStudy --> PqcmcStorageConditionCategoryTerminology : uses
StabilitySubStudy --> PqcmcContainerOrientationTerminology : uses
StabilitySubStudy --> "pqcmc-study-type-terminology" : uses
StabilitySubStudy --> result
StabilitySubStudy --> StabilityStudyIntervalReport

' – StabilityStudyIntervalReport
StabilityStudyIntervalReport --> subject
StabilityStudyIntervalReport --> DrugProductBatch
StabilityStudyIntervalReport --> DrugSubstanceBatch
StabilityStudyIntervalReport --> performer
StabilityStudyIntervalReport --> CodedOrganization
StabilityStudyIntervalReport --> result
StabilityStudyIntervalReport --> ResultObservation
StabilityStudyIntervalReport --> MatrixedStudyEvidence
StabilityStudyIntervalReport --> BracketingStudyEvidence

' – StabilityStudyProtocol
StabilityStudyProtocol --> PqcmcTestCategoryParentTerminology : uses
StabilityStudyProtocol --> PqcmcTestCategoryChildTerminology  : uses
StabilityStudyProtocol --> PqcmcStorageConditionsTerminology  : uses
StabilityStudyProtocol --> PqcmcContainerOrientationTerminology : uses
StabilityStudyProtocol --> PqcmcContainerTypeTerminology     : uses
StabilityStudyProtocol --> PqcmcClosureTypeTerminology       : uses

' – CycledTestingPlanDefinition
CycledTestingPlanDefinition --> PqcmcStorageConditionsTerminology : uses
CycledTestingPlanDefinition --> PqcmcContainerOrientationTerminology : uses
CycledTestingPlanDefinition --> PqcmcContainerTypeTerminology : uses
CycledTestingPlanDefinition --> PqcmcClosureTypeTerminology  : uses

' – StabilityGroups
StabilityGroups --> valueReference
StabilityGroups --> DrugProductBatch
StabilityGroups --> DrugSubstanceBatch

' – Misc extension links
PQCMCStabilityGroupsMedicationMember --> Medication
PQCMCStabilityGroupsMedicationMember --> Substance
PQCMCEvidenceProductReference        --> valueReference
PQCMCEvidenceProductReference        --> DrugProductHandle

' – BracketingStudyEvidence
BracketingStudyEvidence --> observed
BracketingStudyEvidence --> StabilityGroups
@enduml