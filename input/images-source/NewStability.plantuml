@startuml
skinparam linetype ortho
title Stability Study FHIR Shorthand Profiles (+ External References)

' ========== PROFILES ==========
class StabilityStudy <<ResearchStudy>> {
  * primaryPurposeType : PqcmcStabilityStudyReasonTerminology [required]
  --
  (No extensions)
}
class StabilitySubStudy <<ResearchStudy>> {
  + extension: pqcmc
  --
  condition[substudytype] : PqcmcStudyTypeTerminology [required]
  condition[storage] : PqcmcStorageConditionsTerminology [required]
  condition[storagecategory] : PqcmcStorageConditionCategoryTerminology [required]
  condition[orientation] : PqcmcContainerOrientationTerminology [required]
}
class StabilityStudyIntervalReport <<DiagnosticReport>> {
  (No extensions or value sets)
}
class StabilityStudyProtocol <<PlanDefinition>> {
  coding[parent] : PqcmcTestCategoryParentTerminology [required]
  coding[child] : PqcmcTestCategoryChildTerminology [required]
  coding[storage] : PqcmcStorageConditionsTerminology [required]
  coding[containerType] : PqcmcContainerTypeTerminology [required]
  coding[closureType] : PqcmcClosureTypeTerminology [required]
  --
  (No extensions)
}
class CycledTestingPlanDefinition <<PlanDefinition>> {
  coding[storage] : PqcmcStorageConditionsTerminology [required]
  coding[containerType] : PqcmcContainerTypeTerminology [required]
  coding[closureType] : PqcmcClosureTypeTerminology [required]
  --
  (No extensions)
}
class StabilityGroups <<Group>> {
  (No extensions or value sets)
}
class BracketingStudyEvidence <<Evidence>> {
  + extension: pqcmc
  (No value sets)
}
class MatrixedStudyEvidence <<Evidence>> {
  (No extensions or value sets)
}

' ========== EXTERNAL CLASSES (REFERENCED BUT NOT DEFINED) ==========
class DrugProductHandle <<external>>
class SubstanceDefinitionHandle <<external>>

' ========== REFERENCES ==========
StabilityStudy --> StabilityStudyProtocol : protocol

' Add references from FSH file (parsed previously):
' - StabilityStudy.focus only CodeableReference(DrugProductHandle or SubstanceDefinitionHandle)
StabilityStudy ..> DrugProductHandle : focus
StabilityStudy ..> SubstanceDefinitionHandle : focus

@enduml
